const fs = require("fs");

class file {
	constructor(fs) {
		// code
		this.fs = fs;
	}

	readFile(path){
		//METHOD INI HANYA DI ISIKAN ARGUMENT DI MANA
		//LOKASI ATAU NAMA FILE
		return this.fs.readFile(path,(err,data)=>{
			return data.toString("utf-8");
		});
	}

	open(targets){
		//PARAMETER KE 2 MERUPAKAN FLAG
		this.fs.open(targets.path,targets.flag,targets.callback);
	}

	readdir(targets){
		//OPTION BERISI 2 BUAH OBJECT 
		//1. ENCODING
		//2. WithTypeFiles
			return this.fs.readdir(targets.path,{
				encoding: "utf-8",
				withFileTypes: true
			},
		targets.callback);
	}

	appendFile(targets){
		//JIKA INSTANCE METHOD INI DI JALANKAN TERUS
		//MAKA AKAN MENAMBAH ISI FILE JIKA FILE SUDAH DI BUAT
		this.fs.appendFile(targets.name,targets.content,targets.callback);
	}

	// methods
}

exports.Files = (param)=>{
	return (new file(param));
}
